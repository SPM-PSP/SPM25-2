# 测试设计

## 1. 概述

### 1.1 系统需求概述

Stream 游戏推荐系统旨在为用户提供个性化的游戏推荐服务，通过先进的数据分析和推荐算法，深度挖掘用户的兴趣偏好和行为数据，帮助用户在海量的游戏内容中快速找到符合个人喜好的高质量游戏。系统不仅提供游戏浏览、搜索、排行榜查看、个性化推荐功能，还支持用户收藏、评分、评论等互动操作，增强用户体验。

主要需求包括：

- 用户注册与登录
- 游戏浏览与搜索
- 个性化游戏推荐
- 游戏收藏、评分与评论
- 查看排行榜与个人中心
- 修改账号信息
- AI 客服

### 1.2 系统设计与实现概述

系统采用现代 Web 技术栈构建，前端使用基于 React 的 NextJS 框架，后端和数据库使用的是 Supabase 提供的一站式解决方案，包括数据存储和 CRUD 接口。系统设计强调模块化、松耦合，确保各功能模块独立运作，便于维护和扩展。

## 2. 测试计划

### 2.1 测试环境

| **类别**       | **配置**                                                                 |
|----------------|-------------------------------------------------------------------------|
| **硬件**       | 个人电脑（CPU：i7 以上；内存：16GB；网络：稳定宽带）                      |
| **软件**       | Windows 11 / macOS / Linux；Chrome 120+ / Firefox 115+ / Safari 16+    |
| **测试工具**   | Postman（API 测试）、JMeter（性能测试）、Selenium（UI 自动化）、OWASP ZAP（安全测试） |
| **数据库**     | Supabase PostgreSQL（生产环境模拟）                                      |

---


### 2.2 测试需求 IADT 分解
基于需求跟踪矩阵（RTM），按 **功能模块** 和 **非功能性需求** 分解测试点：  

#### **功能测试**  
| **模块**         | **测试点**                                                                 | **优先级** |
|------------------|---------------------------------------------------------------------------|------------|
| **用户管理**     | 注册、登录、密码修改、退出登录、个人资料修改                              | 高         |
| **游戏推荐**     | 推荐算法准确性、动态调整推荐内容、推荐透明化                              | 高         |
| **游戏交互**     | 搜索功能、收藏/取消收藏、评分、评论、查看排行榜                           | 高         |
| **AI 客服**      | 自然语言交互、问题解答准确性、上下文理解能力                              | 中         |
| **数据管理**     | 用户数据存储、游戏信息更新、评论/评分同步                                 | 中         |

#### **非功能测试**  
| **类型**         | **测试点**                                                                 | **优先级** |
|------------------|---------------------------------------------------------------------------|------------|
| **性能测试**     | 响应时间 ≤1秒、并发支持 ≥5用户、推荐算法处理时间 ≤5秒                     | 高         |
| **兼容性测试**   | Windows/macOS/Linux、Chrome/Firefox/Safari/移动端                        | 中         |
| **可用性测试**   | 界面简洁性、操作流畅性、推荐内容可理解性                                  | 中         |

---

### 2.3 测试实施

#### 2.3.1 测试策略
为了确保Stream游戏推荐系统的质量和性能满足需求，测试策略将涵盖以下几个方面：

- **功能测试**：验证系统的所有功能是否按照需求规格说明书正确实现，包括用户注册/登录、游戏浏览、收藏、评分、评论、搜索、推荐等功能。

- **性能测试**：评估系统在高负载情况下的响应时间和处理速度，确保系统能够支持至少5个用户的并发请求，并在规定时间内完成复杂推荐算法的运算和数据处理。

- **安全测试**：检查系统的安全机制，包括用户认证、数据传输加密、防护措施等，确保用户数据的安全性和系统对网络攻击的抵御能力。

- **用户体验测试**：评估系统的用户界面和交互流程是否友好直观，推荐内容是否易于理解，确保用户能够获得良好的使用体验。

- **兼容性测试**：验证系统在不同平台（Windows、MacOS、Linux及移动端）上的兼容性，确保系统能够在各种环境下稳定运行。
#### 2.3.2 测试环境
- **服务器环境**：云服务器，配置包括但不限于CPU、内存、存储等，以满足系统运行和测试的需求。
- **数据库环境**：Supabase PostgreSQL数据库和Supabase Storage对象存储服务，确保数据的持久化存储和快速访问。
- **前端环境**：Next.js框架搭建的前端界面，部署在Vercel平台上，确保与生产环境的一致性。

### 2.4 通过准则
1. **功能测试**：所有高优先级用例通过率 100%，中优先级 ≥95%。  
2. **性能测试**：响应时间 ≤1秒（95% 请求），推荐算法处理时间 ≤5秒。    
3. **兼容性测试**：主流浏览器/操作系统无界面错位或功能异常。  

## 3. 测试程序

测试程序分为如下五个部分：功能测试、性能测试、接口测试、文档介值一致性测试、自由操作测试。

### 3.1 功能测试

| 序号 | 需求规格 |                         操作步骤                         |    期望输出    |    实际输出    | 通过与否 |
| :--: | :------: | :------------------------------------------------------: | :------------: | :------------: | :------: |
|  1   | 注册功能 | 在登录页面中点击“点此创建用户”，输入信息后点击“注册”按钮 | 跳转至登录页面 | 跳转至登录页面 |    ✅     |
|  2   |   登录   |       在登录界面中，输入用户信息后，点击“登录”按钮       |  跳转至主页面  |  跳转至主页面  |    ✅     |
|  3  |  退出  |  在进入页面以后右上角点击“退出”  |  账号退出成功，跳转到登录页面  |  账号退出成功，退出到登录页面  |  ✅  |  
|  4  |  游戏详情显示 |  登陆后进入首页，点击一款游戏进入其详情页  |  进入游戏的主页能看到介绍、视频、图片简介等等  |  看不到游戏详情页面  |  ✅  |
|  5  |  排行榜功能  |  点击侧边栏“排行榜”  |  能够按照评分和发售日期分别排行，同时点击游戏能跳转到游戏主页 | 能够按照评分和发售日期分别排行，同时点击游戏能跳转到游戏主页 | ✅ |
|  6  | 我的收藏 | 点击侧边栏“收藏夹” | 跳转到收藏夹页面，能显示收藏的游戏，同时可以拖动改变顺序 | 跳转到收藏夹页面，能显示收藏的游戏，同时可以拖动改变顺序 | ✅ |
| 7 | streamAI正常问答 | 点击侧边栏“StreamAI”，对AI进行简单提问 | 回复内容正确恰当 | 长时间未作答  | ❌ |
| 8 | 游戏商城轮播屏正常播放 | 能够正常轮播，同时点击左右两侧的按钮能进行切换 | 能正常轮播，能左右切换 | 能正常轮播，能左右切换 | ✅ |  
| 9 | 个人账户更改内容 | 点击侧边栏“账户管理”，将“用户名”改为“你知道我是谁”，点击下方的按钮“Save” | “用户名”被改为“你知道我是谁”，同时右上角同步显示 | “用户名”被改为“你知道我是谁”，同时右上角同步显示 | ✅ |  
| 10 | 取消收藏 | 点击侧边栏“我的收藏”，进入游戏详情页，取消收藏 | 取消收藏成功，游戏从“我的收藏”列表消失 | 取消收藏成功，游戏从“我的收藏”列表消失 | ✅ |


### 3.2 性能测试  
| 序号 | 需求规格 |                         操作步骤                         |    期望性能    |    实际表现    | 通过与否 |  
| :--: | :------: | :------------------------------------------------------: | :------------: | :------------: | :------: |
| 1 | 登录 | 在登录页面输入用户信息后，点击“登录按钮”                          | 2s内跳转至主页面 | 2s内跳转至主页面 | ✅ |
| 2 | 注册 | 在登录页面中点击“点此创建用户”，输入信息后点击“注册”按钮           | 2s内创建完成新账号，跳转回到登录页面 | 2s内创建完成新账号，跳转回到登录页面 | ✅ |
| 3 | 退出 | 进入主页面后点击右上角“退出”                                     | 2s内账号退出，跳转到登录页面        | 2s内账号退出，跳转到登录页面 | ✅ |
| 4 | 游戏详情显示 | 登陆后进入首页，点击一款游戏进入其详情页                   | 2s内跳转到游戏详情展示页面          | 2s内跳转到游戏详情展示页面 | ✅ |
| 5 | 排行榜功能 | 点击侧边栏“排行榜”，之后可以按照发布时间和评分分别进行排行     | 2s内完成不同类型排行的切换         | 2s内完成不同类型排行的切换 | ✅ |
| 6 | 我的收藏 | 点击侧边栏“收藏夹”，进入某个收藏的游戏后，可以取消收藏          | 取消收藏后，2s内产生新的“我的收藏”列表 | 取消收藏后，2s内产生新的“我的收藏”列表 | ✅ |
| 7 | streamAI | 向streamAI提问                                            | 5s内能给出正确恰当的的回答            | 长时间没有给出回答 | ❌ |
| 8 | 个人账户 | 进入“账号管理”，修改个人信息，并点击“save”                    | 2s内完成数据库中对于用户信息的修改    | 2s内完成数据库中对于用户信息的修改 | ✅ |  

![响应时间](../../stream-game-app/public/ResponseTime.png)


### 3.3 接口测试
|  序号 |    接口    |           接口测试描述          |                  传入参数                  |            数据类型            |     是否必传    |                  备注                  |  传出参数  |  数据类型  |  备注 | 通过与否 |
| :-: | :------: | :-----------------------: | :------------------------------------: | :------------------------: | :---------: | :----------------------------------: | :----: | :----: | :-: | :--: |
|  1  |  注册功能接口  |      传入合适的参数，调用注册功能接口     |     email<br>password<br>password2     | string<br>string<br>string | Y<br>Y<br>Y |   <test@qq.com><br>123456<br>123456  |  null  |  null  |     |   ✅  |
|  2  |  注册功能接口  |      传入已有的邮箱，调用注册功能接口     |     email<br>password<br>password2     | string<br>string<br>string | Y<br>Y<br>Y |  <admin@qq.com><br>123456<br>123456  |  null  |  null  |     |   ✅  |
|  3  |  注册功能接口  |    传入密码与确认密码不同，调用注册功能接口   |     email<br>password<br>password2     | string<br>string<br>string | Y<br>Y<br>Y | <test@qq.com><br>123456<br>123456789 |  null  |  null  |     |   ✅  |
|  4  |  登录功能接口  |    传入正确的用户名和密码，调用登录功能接口   |          username<br>password          |      string<br>string      |    Y<br>Y   |            test<br>123456            |  null  |  null  |     |   ✅  |
|  5  |  登录功能接口  |     传入错误的用户名，调用登录功能接口     |          username<br>password          |      string<br>string      |    Y<br>Y   |            test1<br>123456           |  null  |  null  |     |   ✅  |
|  6  |  登录功能接口  |      传入错误的密码，调用登录功能接口     |          username<br>password          |      string<br>string      |    Y<br>Y   |           test<br>123456789          |  null  |  null  |     |   ✅  |
|  7  |  修改密码接口  |  传入正确的原密码和新密码，调用修改密码功能接口  | username<br>oldPassword<br>newPassword | string<br>string<br>string | Y<br>Y<br>Y |      test<br>123456<br>12345678      |  null  |  null  |     |   ✅  |
|  8  |  修改密码接口  |    传入错误的原密码，调用修改密码功能接口    | username<br>oldPassword<br>newPassword | string<br>string<br>string | Y<br>Y<br>Y |      test<br>1234567<br>12345678     |  null  |  null  |     |   ✅  |
|  9  |  搜索游戏接口  |      传入关键词，调用搜索游戏功能接口     |                 keyword                |           string           |      Y      |                  战棋                  |  游戏列表  |  array |     |   ✅  |
|  10 |  搜索游戏接口  |     传入空关键词，调用搜索游戏功能接口     |                 keyword                |           string           |      Y      |                                      |  游戏列表  |  array |     |   ✅  |
|  11 | 查看游戏推荐接口 |    传入用户ID，调用查看游戏推荐功能接口    |                 userId                 |           string           |      Y      |                123456                | 推荐游戏列表 |  array |     |   ✅  |
|  12 | 查看游戏推荐接口 |  传入不存在的用户ID，调用查看游戏推荐功能接口  |                 userId                 |           string           |      Y      |               123456789              | 推荐游戏列表 |  array |     |   ✅  |
|  13 |  收藏游戏接口  |   传入用户ID和游戏ID，调用收藏游戏功能接口  |            userId<br>gameId            |      string<br>string      |    Y<br>Y   |           123456<br>789012           |  null  |  null  |     |   ✅  |
|  14 |  收藏游戏接口  |   传入不存在的用户ID，调用收藏游戏功能接口   |            userId<br>gameId            |      string<br>string      |    Y<br>Y   |          123456789<br>789012         |  null  |  null  |     |   ✅  |
|  15 |  收藏游戏接口  |   传入不存在的游戏ID，调用收藏游戏功能接口   |            userId<br>gameId            |      string<br>string      |    Y<br>Y   |          123456<br>789012345         |  null  |  null  |     |   ✅  |
|  16 |  评分功能接口  |  传入用户ID、游戏ID和评分值，调用评分功能接口 |        userId<br>gameId<br>score       |  string<br>string<br>float | Y<br>Y<br>Y |        123456<br>789012<br>4.5       |  null  |  null  |     |   ✅  |
|  17 |  评分功能接口  |    传入不存在的用户ID，调用评分功能接口    |        userId<br>gameId<br>score       |  string<br>string<br>float | Y<br>Y<br>Y |      123456789<br>789012<br>4.5      |  null  |  null  |     |   ✅  |
|  18 |  评分功能接口  |    传入不存在的游戏ID，调用评分功能接口    |        userId<br>gameId<br>score       |  string<br>string<br>float | Y<br>Y<br>Y |      123456<br>789012345<br>4.5      |  null  |  null  |     |   ✅  |
|  19 |  评论功能接口  | 传入用户ID、游戏ID和评论内容，调用评论功能接口 |       userId<br>gameId<br>content      | string<br>string<br>string | Y<br>Y<br>Y |     123456<br>789012<br>这是一款好玩的游戏    |  null  |  null  |     |   ✅  |
|  20 |  评论功能接口  |    传入不存在的用户ID，调用评论功能接口    |       userId<br>gameId<br>content      | string<br>string<br>string | Y<br>Y<br>Y |   123456789<br>789012<br>这是一款好玩的游戏   |  null  |  null  |     |   ✅  |
|  21 |  评论功能接口  |    传入不存在的游戏ID，调用评论功能接口    |       userId<br>gameId<br>content      | string<br>string<br>string | Y<br>Y<br>Y |   123456<br>789012345<br>这是一款好玩的游戏   |  null  |  null  |     |   ✅  |
|  22 |  智能客服接口  |     传入用户问题，调用智能客服功能接口     |                question                |           string           |      Y      |                这款游戏好玩吗               |  回答内容  | string |     |   ✅  |
|  23 |  智能客服接口  |      传入空问题，调用智能客服功能接口     |                question                |           string           |      Y      |                                      |  回答内容  | string |     |   ✅  |
|  24 |  游戏排行榜接口 |        调用游戏排行榜功能接口        |                  null                  |            null            |             |                                      |  排行榜列表 |  array |     |   ✅  |

### 3.4 文档介质一致性测试
|  序号 |    文档   |    文档内容    |  项目实现内容  | 通过与否 |
| :-: | :-----: | :--------: | :------: | :--: |
|  1  | 需求规格说明书 |  4.1 功能划分  | 所有功能模块实现 |   ✅  |
|  2  | 系统设计说明书 |  3.1 架构设计  |  系统架构实现  |   ✅  |
|  3  | 系统设计说明书 |  4.1 数据描述  | 数据库表结构实现 |   ✅  |
|  4  | 系统设计说明书 | 5.1 交互行为组件 | 交互行为组件实现 |   ✅  |
|  5  | 系统设计说明书 | 5.2 数据存储组件 | 数据存储组件实现 |   ✅  |
|  6  | 系统设计说明书 | 5.3 智能客服组件 | 智能客服组件实现 |   ✅  |
|  7  | 系统设计说明书 | 6.1 用户界面概述 |  用户界面实现  |   ✅  |
### 3.5 自由操作测试
|  序号 |       操作描述       |           操作步骤           |  期望结果  |    实际结果   |  通过与否 |
| :-: | :--------------: | :----------------------: | :----: | :-------: | :---: |
|  1  | dashboard界面长时间放置 | web保持在dashboard界面，持续10分钟 | 系统稳定运行 | 系统报错，正常运行 | ❌ |
|  2  |      注册功能测试      | 点击注册按钮，输入邮箱、密码和确认密码，点击提交 |  注册成功  |    注册成功   |   ✅   |
|  3  |      登录功能测试      |   点击登录按钮，输入用户名和密码，点击提交   |  登录成功  |    登录成功   |   ✅   |
|  4  |      修改密码测试      |  点击修改密码按钮，输入原密码和新密码，点击提交 |  修改成功  |    修改成功   |   ✅   |
|  5  |      搜索游戏测试      |      在搜索框输入关键词，点击搜索      | 搜索结果展示 |   搜索结果展示  |   ✅   |
|  6  |     查看游戏推荐测试     |          点击推荐按钮          | 推荐游戏展示 |   推荐游戏展示  |   ✅   |
|  7  |      收藏游戏测试      |          点击收藏按钮          |  收藏成功  |    收藏成功   |   ✅   |
|  8  |      评分功能测试      |     点击评分按钮，输入评分值，点击提交    |  评分成功  |    评分成功   |   ✅   |
|  9  |      评论功能测试      |    点击评论按钮，输入评论内容，点击提交    |  评论成功  |    评论成功   |   ✅   |
|  10 |      智能客服测试      |    点击智能客服按钮，输入问题，点击提交    | 回答内容展示 |   回答内容展示  |   ✅   |
|  11 |      游戏排行榜测试     |          点击排行榜按钮         |  排行榜展示 |   排行榜展示   |   ✅   |